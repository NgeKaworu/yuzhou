"use strict";(self.webpackChunkflashcard_=self.webpackChunkflashcard_||[]).push([[443],{18324:function(Oe,J,a){a.r(J),a.d(J,{default:function(){return rt}});var fe=a(34412),U=a.n(fe),he=a(69780),H=a.n(he),pe=a(50680),V=a.n(pe),l=a(93981),$e=a(21839),xe=a(98243),Ce=a(36120),ye=a(7396);function Se(e,t,n){const s=(0,xe._v)(e,t,n);return(0,ye.r)(s,Ce.z)}var ae=a(29895),G=a(55898),A=a(95563),oe=a(81445),ue=a(80483),Ee=a(89966),h=a(30583),v=a.n(h),C=a(14861),x=a(54253),b=e=>{const{prefixCls:t,className:n,style:s,size:r,shape:i}=e,m=v()({[`${t}-lg`]:r==="large",[`${t}-sm`]:r==="small"}),f=v()({[`${t}-circle`]:i==="circle",[`${t}-square`]:i==="square",[`${t}-round`]:i==="round"}),o=l.useMemo(()=>typeof r=="number"?{width:r,height:r,lineHeight:`${r}px`}:{},[r]);return l.createElement("span",{className:v()(t,m,f,n),style:Object.assign(Object.assign({},o),s)})},R=a(60711),se=a(16512),Q=a(99517);const re=new R.E4("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Y=e=>({height:e,lineHeight:`${e}px`}),Z=e=>Object.assign({width:e},Y(e)),Pe=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:re,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),K=e=>Object.assign({width:e*5,minWidth:e*5},Y(e)),le=e=>{const{skeletonAvatarCls:t,color:n,controlHeight:s,controlHeightLG:r,controlHeightSM:i}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},Z(s)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},Z(r)),[`${t}${t}-sm`]:Object.assign({},Z(i))}},ze=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:s,controlHeightLG:r,controlHeightSM:i,color:m}=e;return{[`${s}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:m,borderRadius:n},K(t)),[`${s}-lg`]:Object.assign({},K(r)),[`${s}-sm`]:Object.assign({},K(i))}},Re=e=>Object.assign({width:e},Y(e)),He=e=>{const{skeletonImageCls:t,imageSizeBase:n,color:s,borderRadiusSM:r}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:s,borderRadius:r},Re(n*2)),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Re(n)),{maxWidth:n*4,maxHeight:n*4}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},be=(e,t,n)=>{const{skeletonButtonCls:s}=e;return{[`${n}${s}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${s}-round`]:{borderRadius:t}}},je=e=>Object.assign({width:e*2,minWidth:e*2},Y(e)),Me=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:s,controlHeightLG:r,controlHeightSM:i,color:m}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:m,borderRadius:t,width:s*2,minWidth:s*2},je(s))},be(e,s,n)),{[`${n}-lg`]:Object.assign({},je(r))}),be(e,r,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},je(i))}),be(e,i,`${n}-sm`))},Te=e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:s,skeletonParagraphCls:r,skeletonButtonCls:i,skeletonInputCls:m,skeletonImageCls:f,controlHeight:o,controlHeightLG:y,controlHeightSM:S,color:j,padding:N,marginSM:B,borderRadius:w,skeletonTitleHeight:I,skeletonBlockRadius:d,skeletonParagraphLineHeight:M,controlHeightXS:z,skeletonParagraphMarginTop:T}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:N,verticalAlign:"top",[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:j},Z(o)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},Z(y)),[`${n}-sm`]:Object.assign({},Z(S))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${s}`]:{width:"100%",height:I,background:j,borderRadius:d,[`+ ${r}`]:{marginBlockStart:S}},[`${r}`]:{padding:0,"> li":{width:"100%",height:M,listStyle:"none",background:j,borderRadius:d,"+ li":{marginBlockStart:z}}},[`${r}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${s}, ${r} > li`]:{borderRadius:w}}},[`${t}-with-avatar ${t}-content`]:{[`${s}`]:{marginBlockStart:B,[`+ ${r}`]:{marginBlockStart:T}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Me(e)),le(e)),ze(e)),He(e)),[`${t}${t}-block`]:{width:"100%",[`${i}`]:{width:"100%"},[`${m}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${s},
        ${r} > li,
        ${n},
        ${i},
        ${m},
        ${f}
      `]:Object.assign({},Pe(e))}}};var q=(0,se.Z)("Skeleton",e=>{const{componentCls:t}=e,n=(0,Q.TS)(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:e.controlHeight*1.5,skeletonTitleHeight:e.controlHeight/2,skeletonBlockRadius:e.borderRadiusSM,skeletonParagraphLineHeight:e.controlHeight/2,skeletonParagraphMarginTop:e.marginLG+e.marginXXS,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.color} 25%, ${e.colorGradientEnd} 37%, ${e.color} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Te(n)]},e=>{const{colorFillContent:t,colorFill:n}=e;return{color:t,colorGradientEnd:n}}),De=e=>{const{prefixCls:t,className:n,rootClassName:s,active:r,shape:i="circle",size:m="default"}=e,{getPrefixCls:f}=l.useContext(C.E_),o=f("skeleton",t),[y,S]=q(o),j=(0,x.Z)(e,["prefixCls","className"]),N=v()(o,`${o}-element`,{[`${o}-active`]:r},n,s,S);return y(l.createElement("div",{className:N},l.createElement(b,Object.assign({prefixCls:`${o}-avatar`,shape:i,size:m},j))))},Le=e=>{const{prefixCls:t,className:n,rootClassName:s,active:r,block:i=!1,size:m="default"}=e,{getPrefixCls:f}=l.useContext(C.E_),o=f("skeleton",t),[y,S]=q(o),j=(0,x.Z)(e,["prefixCls"]),N=v()(o,`${o}-element`,{[`${o}-active`]:r,[`${o}-block`]:i},n,s,S);return y(l.createElement("div",{className:N},l.createElement(b,Object.assign({prefixCls:`${o}-button`,size:m},j))))},Be=a(36378),Ge=a(17259),Qe=a(8085),Ie=function(t,n){return l.createElement(Qe.Z,(0,Be.Z)((0,Be.Z)({},t),{},{ref:n,icon:Ge.Z}))};Ie.displayName="DotChartOutlined";var Ke=l.forwardRef(Ie),We=e=>{const{prefixCls:t,className:n,rootClassName:s,style:r,active:i,children:m}=e,{getPrefixCls:f}=l.useContext(C.E_),o=f("skeleton",t),[y,S]=q(o),j=v()(o,`${o}-element`,{[`${o}-active`]:i},S,n,s),N=m!=null?m:l.createElement(Ke,null);return y(l.createElement("div",{className:j},l.createElement("div",{className:v()(`${o}-image`,n),style:r},N)))};const Xe="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z";var Je=e=>{const{prefixCls:t,className:n,rootClassName:s,style:r,active:i}=e,{getPrefixCls:m}=l.useContext(C.E_),f=m("skeleton",t),[o,y]=q(f),S=v()(f,`${f}-element`,{[`${f}-active`]:i},n,s,y);return o(l.createElement("div",{className:S},l.createElement("div",{className:v()(`${f}-image`,n),style:r},l.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${f}-image-svg`},l.createElement("path",{d:Xe,className:`${f}-image-path`})))))},Ue=e=>{const{prefixCls:t,className:n,rootClassName:s,active:r,block:i,size:m="default"}=e,{getPrefixCls:f}=l.useContext(C.E_),o=f("skeleton",t),[y,S]=q(o),j=(0,x.Z)(e,["prefixCls"]),N=v()(o,`${o}-element`,{[`${o}-active`]:r,[`${o}-block`]:i},n,s,S);return y(l.createElement("div",{className:N},l.createElement(b,Object.assign({prefixCls:`${o}-input`,size:m},j))))},Ve=a(2159),Ye=e=>{const t=f=>{const{width:o,rows:y=2}=e;if(Array.isArray(o))return o[f];if(y-1===f)return o},{prefixCls:n,className:s,style:r,rows:i}=e,m=(0,Ve.Z)(Array(i)).map((f,o)=>l.createElement("li",{key:o,style:{width:t(o)}}));return l.createElement("ul",{className:v()(n,s),style:r},m)},qe=e=>{let{prefixCls:t,className:n,width:s,style:r}=e;return l.createElement("h3",{className:v()(t,n),style:Object.assign({width:s},r)})};function ke(e){return e&&typeof e=="object"?e:{}}function _e(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function et(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function tt(e,t){const n={};return(!e||!t)&&(n.width="61%"),!e&&t?n.rows=3:n.rows=2,n}const _=e=>{const{prefixCls:t,loading:n,className:s,rootClassName:r,style:i,children:m,avatar:f=!1,title:o=!0,paragraph:y=!0,active:S,round:j}=e,{getPrefixCls:N,direction:B}=l.useContext(C.E_),w=N("skeleton",t),[I,d]=q(w);if(n||!("loading"in e)){const M=!!f,z=!!o,T=!!y;let ce;if(M){const W=Object.assign(Object.assign({prefixCls:`${w}-avatar`},_e(z,T)),ke(f));ce=l.createElement("div",{className:`${w}-header`},l.createElement(b,Object.assign({},W)))}let de;if(z||T){let W;if(z){const D=Object.assign(Object.assign({prefixCls:`${w}-title`},et(M,T)),ke(o));W=l.createElement(qe,Object.assign({},D))}let X;if(T){const D=Object.assign(Object.assign({prefixCls:`${w}-paragraph`},tt(M,z)),ke(y));X=l.createElement(Ye,Object.assign({},D))}de=l.createElement("div",{className:`${w}-content`},W,X)}const me=v()(w,{[`${w}-with-avatar`]:M,[`${w}-active`]:S,[`${w}-rtl`]:B==="rtl",[`${w}-round`]:j},s,r,d);return I(l.createElement("div",{className:me,style:i},ce,de))}return typeof m!="undefined"?m:null};_.Button=Le,_.Avatar=De,_.Input=Ue,_.Image=Je,_.Node=We;var nt=_,at=nt,ot=a(80975),st=a(54618),ie=a.n(st),ve=a(86003),ge={form:"form___eiG58","form-item":"form-item___XcuUp"},we=a(88556),c=a(29541),Ae,ee=(Ae=navigator.userAgent)===null||Ae===void 0?void 0:Ae.toLowerCase(),rt=function(){var e=G.Z.useForm(),t=V()(e,1),n=t[0],s=(0,l.useState)("normal"),r=V()(s,2),i=r[0],m=r[1],f=(0,l.useState)(0),o=V()(f,2),y=o[0],S=o[1],j=(0,$e.NL)(),N=Se(["review-list"],function(){return we.iP.get("/flashcard/record/list",{notify:"fail",params:{inReview:!0,skip:0,limit:0}})}),B=N.data;function w(){return we.iP.get("/flashcard/record/list?sort=cooldownAt&orderby=-1",{notify:"fail",params:{inReview:!1,skip:0,limit:1}}).then(function($){return $})}var I=B==null?void 0:B.data,d=I==null?void 0:I[y],M=(0,l.useState)(""),z=V()(M,2),T=z[0],ce=z[1];(0,l.useEffect)(function(){ce(d==null?void 0:d.source)},[d==null?void 0:d.source]);var de=(0,ae.D)(function($){return we.iP.patch("/flashcard/record/set-review-result",$,{notify:"fail"})},{onSuccess:function(){var $=H()(U()().mark(function p(){return U()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:j.invalidateQueries(["records-list"]),j.invalidateQueries(["review-list"]),m("normal"),S(0),n.resetFields();case 5:case"end":return g.stop()}},p)}));function O(){return $.apply(this,arguments)}return O}()}),me=de.isLoading,W=de.mutate,X=(B==null?void 0:B.total)||0,D=y<X-1;function lt(){S(function($){return++$===X?0:$})}function it(){var $,O=d==null?void 0:d._id,p=ie()(),k=ie()(d==null?void 0:d.cooldownAt),g=d==null?void 0:d.exp,u={id:O,cooldownAt:k,exp:g};if(p.isAfter(k))switch(g){case 0:u.cooldownAt=p.add(5,"minutes"),u.exp=g+10;break;case 10:u.cooldownAt=p.add(25,"minutes"),u.exp=g+10;break;case 20:u.cooldownAt=p.add(11.5,"hours"),u.exp=g+10;break;case 30:u.cooldownAt=p.add(12,"hours"),u.exp=g+10;break;case 40:u.cooldownAt=p.add(1,"day"),u.exp=g+10;break;case 50:u.cooldownAt=p.add(2,"days"),u.exp=g+10;break;case 60:u.cooldownAt=p.add(3,"days"),u.exp=g+10;break;case 70:u.cooldownAt=p.add(8,"days"),u.exp=g+10;break;case 80:u.cooldownAt=p.add(.5,"month"),u.exp=g+10;break;case 90:u.cooldownAt=p.add(1,"hours"),u.exp=g+10;break;case 100:u.cooldownAt=p.add(1,"hours");break;default:console.error("invalidate exp type: ",g);break}u.cooldownAt=($=u.cooldownAt)===null||$===void 0?void 0:$.toISOString(),W(u),D||Fe()}function ct(){var $,O=d==null?void 0:d._id,p=ie()(),k=d==null?void 0:d.exp;k!==0&&(k-=10);var g={id:O,cooldownAt:p.add(1,"hour"),exp:k};g.cooldownAt=($=g.cooldownAt)===null||$===void 0?void 0:$.toISOString(),W(g),D||Fe()}function Fe(){Notification.requestPermission(function($){$==="granted"&&navigator.serviceWorker.ready.then(function(){var O=H()(U()().mark(function p(k){var g,u,L,te,ne;return U()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,w();case 2:L=P.sent,te=L==null||(g=L.data)===null||g===void 0||(u=g[0])===null||u===void 0?void 0:u.reviewAt,te!==void 0&&(ne=ie()(te).diff(ie()()),ne<36e5&&(ne=36e5),setTimeout(function(){k.showNotification("\u590D\u4E60\u63D0\u9192",{body:"\u4F60\u6709\u5355\u8BCD\u9700\u8981\u590D\u4E60\uFF5E",vibrate:[200,100,200,100,200,100,200],tag:"review-notify"})},ne));case 5:case"end":return P.stop()}},p)}));return function(p){return O.apply(this,arguments)}}())})}function dt(){switch(i){case"normal":return"\u590D\u4E60";case"success":return(0,c.jsx)("span",{style:{color:"lightgreen"},children:"\u8BB0\u5FC6\u6210\u529F"});case"fail":return(0,c.jsx)("span",{style:{color:"red"},children:"\u8BB0\u5FC6\u5931\u8D25"});default:console.error("invalidate type: ",i)}}function ut(){switch(i){case"normal":return(0,c.jsx)(A.ZP,{size:"small",disabled:X<=1,onClick:lt,children:"\u8DF3\u8FC7\u5F53\u524D"});case"success":case"fail":return(0,c.jsxs)(oe.Z,{children:[(0,c.jsxs)(A.ZP,{size:"small",onClick:it,loading:me,style:{background:"lightgreen"},children:["\u8BB0\u5FC6\u6210\u529F\uFF0C",D?"\u4E0B\u4E00\u9879":"\u5B8C\u6210\u590D\u4E60"]}),i==="fail"&&(0,c.jsxs)(A.ZP,{size:"small",type:"primary",danger:!0,onClick:ct,loading:me,children:["\u8BB0\u5FC6\u5931\u8D25,",D?"\u4E0B\u4E00\u9879":"\u5B8C\u6210\u590D\u4E60"]})]});default:console.error("invalidate type: ",i)}}function Ze(){n.validateFields().then(function($){var O,p,k=(O=$.answer)===null||O===void 0?void 0:O.trim(),g=d==null||(p=d.source)===null||p===void 0?void 0:p.trim();if(k===g)m("success");else{var u,L,te=g==null||(u=g.split(" "))===null||u===void 0?void 0:u.reduce(function(F,P){return F[P]===void 0?F[P]=1:F[P]++,F},{}),ne=k==null||(L=k.split(" "))===null||L===void 0?void 0:L.map(function(F,P){var Ne;return te[F]>0?(te[F]--,Ne=F):Ne=(0,c.jsx)("span",{style:{background:"lightcoral"},children:F}),(0,c.jsxs)(l.Fragment,{children:[Ne," "]},P)});ce((0,c.jsxs)(c.Fragment,{children:[g,(0,c.jsx)("br",{}),ne]})),m("fail")}})}function vt($){var O=$.key,p=$.metaKey,k=$.ctrlKey;O==="Enter"&&(ee!=null&&ee.includes("windows")&&k||ee!=null&&ee.includes("mac")&&p)&&Ze()}return(0,c.jsxs)("section",{children:[(0,c.jsx)("header",{style:{height:24},children:(0,c.jsx)("div",{className:ve.Z.header,children:dt()})}),(0,c.jsx)("main",{className:ve.Z.content,children:I!=null&&I.length?(0,c.jsxs)(G.Z,{className:ge.form,form:n,children:[(0,c.jsxs)(G.Z.Item,{className:ge["form-item"],children:[(0,c.jsx)("div",{children:"\u8BD1\u6587\uFF1A "}),d==null?void 0:d.translation]}),(0,c.jsx)(ue.Z,{}),(0,c.jsx)("div",{children:"\u9ED8\u5199\u533A\uFF1A "}),(0,c.jsx)(G.Z.Item,{className:ge["form-item"],name:"answer",rules:[{required:!0,message:"\u8BF7\u628A\u5185\u5BB9\u9ED8\u5199\u4E8E\u6B64"}],children:(0,c.jsx)(Ee.Z.TextArea,{autoFocus:!0,onKeyDown:vt,autoSize:{minRows:8},placeholder:"\u8BF7\u628A\u5185\u5BB9\u9ED8\u5199\u4E8E\u6B64",allowClear:!0})}),(0,c.jsx)(ue.Z,{}),(0,c.jsxs)(G.Z.Item,{className:ge["form-item"],children:[(0,c.jsx)("div",{children:"\u539F\u6587\uFF1A "}),i!=="normal"?T:(0,c.jsx)(at,{})]})]}):(0,c.jsx)(ot.Z,{className:ve.Z.empty})}),(0,c.jsx)("footer",{children:(0,c.jsxs)("div",{className:ve.Z.footer,children:[(0,c.jsxs)(oe.Z,{style:{marginRight:"12px",whiteSpace:"pre-wrap"},children:["\u4F59",X]}),(0,c.jsxs)(oe.Z,{children:[ut(),(0,c.jsx)(A.ZP,{size:"small",type:"primary",disabled:i!=="normal",onClick:Ze,children:"\u63D0\u4EA4"})]})]})})]})}},88556:function(Oe,J,a){a.d(J,{iP:function(){return A}});var fe=a(59042),U=a.n(fe),he=a(55354),H=a.n(he),pe=a(24700),V=a(33813),l=a(93981),$e=a.t(l,2),xe=a(32841),Ce=a(17635),ye={antd:pe,reactQuery:V,react:$e,reactDnD:xe,reactRouterDom:Ce},Se=a(28983),ae=ye.antd.message,G={200:"\u64CD\u4F5C\u6210\u529F\u3002",201:"\u65B0\u5EFA\u6216\u4FEE\u6539\u6570\u636E\u6210\u529F\u3002",202:"\u4E00\u4E2A\u8BF7\u6C42\u5DF2\u7ECF\u8FDB\u5165\u540E\u53F0\u6392\u961F\uFF08\u5F02\u6B65\u4EFB\u52A1\uFF09\u3002",204:"\u5220\u9664\u6570\u636E\u6210\u529F\u3002",400:"\u53D1\u51FA\u7684\u8BF7\u6C42\u6709\u9519\u8BEF\uFF0C\u670D\u52A1\u5668\u6CA1\u6709\u8FDB\u884C\u65B0\u5EFA\u6216\u4FEE\u6539\u6570\u636E\u7684\u64CD\u4F5C\u3002",401:"\u7528\u6237\u6CA1\u6709\u6743\u9650\uFF08\u4EE4\u724C\u3001\u7528\u6237\u540D\u3001\u5BC6\u7801\u9519\u8BEF\uFF09\u3002",403:"\u7528\u6237\u5F97\u5230\u6388\u6743\uFF0C\u4F46\u662F\u8BBF\u95EE\u662F\u88AB\u7981\u6B62\u7684\u3002",404:"\u53D1\u51FA\u7684\u8BF7\u6C42\u9488\u5BF9\u7684\u662F\u4E0D\u5B58\u5728\u7684\u8BB0\u5F55\uFF0C\u670D\u52A1\u5668\u6CA1\u6709\u8FDB\u884C\u64CD\u4F5C\u3002",405:"\u8BF7\u6C42\u65B9\u5F0F\u4E0D\u5BF9",406:"\u8BF7\u6C42\u7684\u683C\u5F0F\u4E0D\u53EF\u5F97\u3002",410:"\u8BF7\u6C42\u7684\u8D44\u6E90\u88AB\u6C38\u4E45\u5220\u9664\uFF0C\u4E14\u4E0D\u4F1A\u518D\u5F97\u5230\u7684\u3002",422:"\u5F53\u521B\u5EFA\u4E00\u4E2A\u5BF9\u8C61\u65F6\uFF0C\u53D1\u751F\u4E00\u4E2A\u9A8C\u8BC1\u9519\u8BEF\u3002",500:"\u670D\u52A1\u5668\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u670D\u52A1\u5668\u3002",502:"\u7F51\u5173\u9519\u8BEF\u3002",503:"\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u670D\u52A1\u5668\u6682\u65F6\u8FC7\u8F7D\u6216\u7EF4\u62A4\u3002",504:"\u7F51\u5173\u8D85\u65F6\u3002"},A=Se.Z.create({baseURL:"/api/",timeout:1e4,timeoutErrorMessage:"\u8FDE\u63A5\u8D85\u65F6\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u540E\u518D\u8BD5"});A.interceptors.request.use(function(h){return h.headers.setAuthorization("Bearer ".concat(localStorage.getItem("token"))),h}),A.interceptors.response.use(function(h){var v,C;if(h!=null&&(v=h.data)!==null&&v!==void 0&&v.ok)return h;var x={config:h.config,isAxiosError:!1,toJSON:function(){return{}},response:h,request:h.request,message:h==null||(C=h.data)===null||C===void 0?void 0:C.errMsg,name:"biz error"};throw x}),A.interceptors.response.use(function(h){var v,C,x=h.data,E=h.config;if((v=[!0,"success"])!==null&&v!==void 0&&v.includes((C=E==null?void 0:E.notify)!==null&&C!==void 0?C:!1)){var b=(x==null?void 0:x.message)||"\u64CD\u4F5C\u6210\u529F";ae.success({content:b,key:b})}return x}),A.interceptors.response.use(void 0,function(h){var v,C=h!=null?h:{},x=C.response,E=C.message,b=C.config,R=b!=null?b:{},se=R.reAuth,Q=R.notify,re=R.sneakyThrows;if((x==null?void 0:x.status)===401)return se?oe(b):ae.warning({key:x.status,content:"\u8BF7\u5148\u767B\u5F55",onClose:function(){var K,le;localStorage.removeItem("token"),(K=location.pathname)!==null&&K!==void 0&&(le=K.toLocaleLowerCase())!==null&&le!==void 0&&le.includes("/user-center/login/")||location.replace("/user-center/login/")}});if((v=[!0,"fail"])!==null&&v!==void 0&&v.includes(Q!=null?Q:!0)){var Y=E.match("Network Error")&&"\u7F51\u7EDC\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u3002",Z=Y||E||G[x==null?void 0:x.status]||"\u672A\u77E5\u9519\u8BEF";ae.error({key:Z,content:Z})}if(re)return x;throw h});function oe(h){return A.get("/uc/oauth2/refresh",{reAuth:!1,notify:"fail",params:{token:localStorage.getStorage("refresh_token")}}).then(function(v){return localStorage.setItem("token",v.data.token),localStorage.setItem("refresh_token",v.data.refresh_token),A(H()(H()({},h),{},{reAuth:!1}))})}var ue=["query","mutation"],Ee=ue.reduce(function(h,v){return H()(H()({},h),{},U()({},v,function(C,x){return function(){for(var E=arguments.length,b=new Array(E),R=0;R<E;R++)b[R]=arguments[R];return A.post(C,H()({query:"".concat(v," {").concat(b[0].reduce(function(se,Q,re){return se+Q+(b[re+1]||"")},""),"}")},x))}}))},{})},86003:function(Oe,J){J.Z={content:"content___ttouV",header:"header___bRScu",menu:"menu___R1KbF",footer:"footer___QOC7J",empty:"empty___HT1XX"}}}]);
