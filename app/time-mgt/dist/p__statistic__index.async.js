"use strict";(self.webpackChunktime_mgt_=self.webpackChunktime_mgt_||[]).push([[657],{3365:function(it,p,t){t.r(p),t.d(p,{default:function(){return Y}});var C=t(34412),T=t.n(C),$=t(69780),R=t.n($),G=t(50680),O=t.n(G),I=t(93981),P=t(35572),f=t(64168),V=t(40784),A=t(80975),B=t(89966),H=t(68641),Z=t(95563),D=t(2672),E=t(70834),M=t(54618),s=t.n(M),Q=t(34167),W=t(44521);function z(r){return W.iP.post("time-mgt/v1/record/statistic",r,{notify:"fail"})}var J=t(30502),K=function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return(0,J.a)(["tag-list"].concat(o),function(){return z.apply(void 0,o)})},h={"fill-scroll-part":"fill-scroll-part___rrMc0","cus-spin":"cus-spin___TCchH",filter:"filter___Vl9SW"},U=t(30583),n=t.n(U),l=t(84937),a=t(29541),X=P.Z.useToken,Y=function(){var r,o,u=f.Z.useForm(),b=O()(u,1),N=b[0],w=(0,I.useState)(),F=O()(w,2),k=F[0],q=F[1],L=(0,Q.Z)(),g=L.data,S=L.isFetching,_=(r=g==null?void 0:g.data)!==null&&r!==void 0?r:[],tt=K(k),y=tt.data,v=(o=y==null?void 0:y.data)!==null&&o!==void 0?o:[],at=v==null?void 0:v.reduce(function(i,d){return i+=d.deration},0),st=X(),e=st.hashId;function nt(i){return x.apply(this,arguments)}function x(){return x=R()(T()().mark(function i(d){return T()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:q(d);case 1:case"end":return m.stop()}},i)})),x.apply(this,arguments)}function lt(){N.resetFields()}return(0,a.jsxs)("div",{className:n()("".concat(l.e,"-bottom-fix-panel"),e),children:[(0,a.jsx)("section",{className:[h["fill-scroll-part"],n()("".concat(l.e,"-fill-scroll-part"),e)].join(" "),children:(0,a.jsx)(V.Z,{spinning:S,wrapperClassName:h["cus-spin"],children:v.length?v.map(function(i){var d,c=_.find(function(et){return et.id===i.id}),m=(i.deration/at*100).toFixed(2),j=(d=c==null?void 0:c.color)!==null&&d!==void 0?d:"";return(0,a.jsxs)("div",{className:n()("".concat(l.e,"-record-item"),e),style:{background:"linear-gradient(to right, ".concat(j," 0% ").concat(m,"%, #fff ").concat(m,"% 100%)")},children:[(0,a.jsx)("h3",{style:{color:j},className:h.filter,children:c==null?void 0:c.name}),(0,a.jsxs)("div",{style:{color:j},className:[n()("".concat(l.e,"-content"),e),h.filter].join(" "),children:[(0,a.jsxs)("div",{className:n()("".concat(l.e,"-main"),e),children:[m,"%"]}),(0,a.jsx)("div",{className:n()("".concat(l.e,"-extra"),e),children:(0,E.Gy)(i.deration)})]})]},i.id)}):(0,a.jsx)(A.Z,{className:n()("".concat(l.e,"-empty"),e)})})}),(0,a.jsx)(f.Z,{onFinish:nt,form:N,initialValues:{dateRange:[s()().startOf("day"),s()().endOf("day")]},children:(0,a.jsxs)("div",{className:n()("".concat(l.e,"-bottom-fix-panel"),e),style:{height:"25vh",borderTop:"1px solid rgba(233,233,233, 05)",boxShadow:"0px 0px 20px 0px rgba(0,0,0,0.1)"},children:[(0,a.jsx)("section",{className:n()("".concat(l.e,"-fill-scroll-part"),e),style:{padding:"0 0 6px 6px"},children:(0,a.jsx)(f.Z.Item,{style:{marginBottom:0},name:"tids",children:(0,a.jsx)(D.Z,{})})}),(0,a.jsxs)(B.Z.Group,{compact:!0,style:{display:"flex"},children:[(0,a.jsx)(f.Z.Item,{style:{marginBottom:0,flex:1},name:"dateRange",children:(0,a.jsx)(H.Z.RangePicker,{style:{width:"100%"},allowClear:!0,showTime:{format:"HH:mm"},presets:[{label:"\u4ECA\u5929",value:[s()().startOf("day"),s()().endOf("day")]},{label:"\u6628\u5929",value:[s()().add(-1,"day").startOf("day"),s()().add(-1,"day").endOf("day")]},{label:"\u672C\u5468",value:[s()().startOf("week"),s()().endOf("week")]},{label:"\u4E0A\u5468",value:[s()().add(-1,"week").startOf("week"),s()().add(-1,"week").endOf("week")]},{label:"\u672C\u6708",value:[s()().startOf("month"),s()().endOf("month")]},{label:"\u4ECA\u5E74",value:[s()().startOf("year"),s()().endOf("year")]}]})}),(0,a.jsx)(Z.ZP,{onClick:lt,children:"\u53D6\u6D88"}),(0,a.jsx)(Z.ZP,{type:"primary",htmlType:"submit",loading:S,children:"\u67E5\u8BE2"})]})]})})]})}}}]);
